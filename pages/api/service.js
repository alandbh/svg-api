export default function chartService(req) {
    const {
        g1 = 1,
        g2 = 1,
        g3 = 1,
        g4 = 1,
        r = 1,
        size = 326,
        bg = "797",
    } = req;
    // const chartWidth = size;

    function getOpacity(score) {
        if (!score || score <= 1) {
            return 0;
        } else if (score > 4) {
            return 1;
        }

        return score / 4;
    }

    const halfSquare = size / 2;

    let fill = "#cc0000";
    let stroke = "none";

    if (g1 === 1 && g2 === 1 && g3 === 1 && g4 === 1) {
        fill = "#cc000000";
        stroke = "#000000";
    }

    function getGCoord(quadrant, score) {
        const quadrantMapping = {
            g1: `${halfSquare - (halfSquare * score) / 4 + 77} ${
                halfSquare - (halfSquare / 4) * score + 122
            }`,
            g2: `${(halfSquare * score) / 4 + halfSquare + 77} ${
                halfSquare - (halfSquare / 4) * score + 122
            }`,
            g3: `${(halfSquare * score) / 4 + halfSquare + 77} ${
                halfSquare + (halfSquare / 4) * score + 122
            }`,
            g4: `${halfSquare - (halfSquare * score) / 4 + 77} ${
                halfSquare + (halfSquare / 4) * score + 122
            }`,
        };
        return quadrantMapping[quadrant];
    }

    function dx(score) {
        if (String(score).length === 3) {
            return -8;
        } else if (String(score).length === 4) {
            return -12;
        }
        return 0;
    }

    const svgElement = `
    <svg width="${size}" height="${size}" viewBox="0 0 ${size} ${size}" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M ${getGCoord("g1", g1)} L ${getGCoord(
        "g2",
        g2
    )} L ${getGCoord("g3", g3)} L ${getGCoord("g4", g4)} L ${getGCoord(
        "g1",
        g1
    )} Z" fill="#${bg}"/>
        <path d="M ${getGCoord("g1", g1)} L ${getGCoord(
        "g2",
        g2
    )} L ${getGCoord("g3", g3)} L ${getGCoord("g4", g4)} L ${getGCoord(
        "g1",
        g1
    )} Z" fill="#FF0000" fill-opacity="${getOpacity(r)}"/>
    </svg>
    `;

    const completeChart = `
    <svg width="480" height="701" viewBox="0 0 480 701" fill="none" xmlns="http://www.w3.org/2000/svg">
    <style>
        text {font-family: Arial, sans-serif; font-size: 16px}
    </style>
<g clip-path="url(#clip0_452_200)">
<rect width="701" height="480" transform="translate(480) rotate(90)" fill="black"/>
<path d="M41.408 44.7044C41.312 43.5204 40.8 42.7684 39.84 42.4644C40.416 42.2724 40.864 41.9524 41.2 41.4724C41.536 40.9924 41.712 40.4164 41.712 39.7124C41.712 38.7364 41.36 37.9684 40.656 37.4244C39.952 36.8804 39.024 36.6084 37.856 36.6084H33.04V48.0004H34.384V43.1364H38.096C38.8 43.1364 39.296 43.3124 39.616 43.6324C39.92 43.9524 40.096 44.4964 40.128 45.2644L40.176 46.4804C40.176 47.1524 40.304 47.6644 40.544 48.0004H41.936C41.712 47.6804 41.568 47.1844 41.52 46.5444L41.408 44.7044ZM34.384 41.9204V37.8244H37.856C38.624 37.8244 39.232 38.0004 39.664 38.3204C40.096 38.6564 40.32 39.1524 40.32 39.7924C40.32 40.4804 40.112 41.0084 39.696 41.3764C39.28 41.7444 38.72 41.9204 38.016 41.9204H34.384Z" fill="white"/>
<path d="M50.4256 43.8724C50.4256 42.6404 50.0896 41.6164 49.4176 40.7844C48.7456 39.9684 47.8176 39.5524 46.6336 39.5524C45.4816 39.5524 44.5696 39.9524 43.8816 40.7364C43.1776 41.5364 42.8256 42.5764 42.8256 43.8724C42.8256 45.2004 43.1776 46.2564 43.8976 47.0244C44.6016 47.8084 45.5136 48.1924 46.6656 48.1924C47.5936 48.1924 48.3616 47.9524 48.9696 47.4724C49.5776 46.9924 49.9936 46.3204 50.2176 45.4884H48.8896C48.5696 46.5124 47.8336 47.0244 46.6976 47.0244C45.9296 47.0244 45.3376 46.8004 44.9056 46.3524C44.4576 45.9044 44.2176 45.2164 44.1536 44.3204H50.4256V43.8724ZM46.6336 40.7204C47.3216 40.7204 47.8816 40.9604 48.3136 41.4084C48.7296 41.8564 48.9856 42.4484 49.0496 43.1684H44.1856C44.2816 42.3844 44.5536 41.7764 44.9856 41.3604C45.4016 40.9444 45.9616 40.7204 46.6336 40.7204Z" fill="white"/>
<path d="M54.7782 48.1924C55.8022 48.1924 56.6022 47.9844 57.1782 47.5524C57.7542 47.1204 58.0582 46.5124 58.0582 45.7284C58.0582 45.0564 57.8342 44.5444 57.3862 44.1604C56.9382 43.7924 56.2182 43.5044 55.2102 43.2964L54.4742 43.1524C53.8662 43.0244 53.4502 42.8804 53.1942 42.6884C52.9382 42.5124 52.8102 42.2404 52.8102 41.8724C52.8102 41.4884 52.9542 41.2004 53.2582 40.9764C53.5462 40.7684 53.9782 40.6564 54.5382 40.6564C55.2262 40.6564 55.7382 40.7844 56.0742 41.0244C56.3942 41.2804 56.5862 41.6964 56.6182 42.2884H57.8982C57.8342 40.4644 56.7142 39.5524 54.5382 39.5524C53.6102 39.5524 52.8742 39.7764 52.3302 40.1924C51.7862 40.6084 51.5302 41.1844 51.5302 41.8884C51.5302 43.2004 52.3782 44.0004 54.1062 44.3204L54.8742 44.4644C55.5782 44.6084 56.0742 44.7684 56.3462 44.9604C56.6182 45.1524 56.7622 45.4404 56.7622 45.8084C56.7622 46.6724 56.0902 47.0884 54.7782 47.0884C54.0422 47.0884 53.5142 46.9604 53.1782 46.7044C52.8422 46.4484 52.6342 46.0004 52.5702 45.3764H51.2742C51.4022 47.2644 52.5702 48.1924 54.7782 48.1924Z" fill="white"/>
<path d="M64.775 44.4164C64.775 45.2804 64.535 45.9204 64.087 46.3684C63.623 46.8164 63.095 47.0404 62.503 47.0404C61.239 47.0404 60.615 46.4324 60.615 45.2004V39.7444H59.335V45.3284C59.335 46.2404 59.591 46.9444 60.103 47.4404C60.615 47.9524 61.319 48.1924 62.247 48.1924C63.335 48.1924 64.199 47.7284 64.839 46.7684V48.0004H66.055V39.7444H64.775V44.4164Z" fill="white"/>
<path d="M69.2556 48.0004V36.6084H67.9756V48.0004H69.2556Z" fill="white"/>
<path d="M74.7947 39.7444H73.0987V37.4084H71.8187V39.7444H70.4587V40.8644H71.8187V46.3364C71.8187 47.4884 72.5067 48.0484 73.8827 48.0484C74.1387 48.0484 74.4427 48.0324 74.7947 48.0004V46.9284H74.0427C73.4027 46.9284 73.0987 46.7044 73.0987 46.2244V40.8644H74.7947V39.7444Z" fill="white"/>
<path d="M78.9814 48.1924C80.0054 48.1924 80.8054 47.9844 81.3814 47.5524C81.9574 47.1204 82.2614 46.5124 82.2614 45.7284C82.2614 45.0564 82.0374 44.5444 81.5894 44.1604C81.1414 43.7924 80.4214 43.5044 79.4134 43.2964L78.6774 43.1524C78.0694 43.0244 77.6534 42.8804 77.3974 42.6884C77.1414 42.5124 77.0134 42.2404 77.0134 41.8724C77.0134 41.4884 77.1574 41.2004 77.4614 40.9764C77.7494 40.7684 78.1814 40.6564 78.7414 40.6564C79.4294 40.6564 79.9414 40.7844 80.2774 41.0244C80.5974 41.2804 80.7894 41.6964 80.8214 42.2884H82.1014C82.0374 40.4644 80.9174 39.5524 78.7414 39.5524C77.8134 39.5524 77.0774 39.7764 76.5334 40.1924C75.9894 40.6084 75.7334 41.1844 75.7334 41.8884C75.7334 43.2004 76.5814 44.0004 78.3094 44.3204L79.0774 44.4644C79.7814 44.6084 80.2774 44.7684 80.5494 44.9604C80.8214 45.1524 80.9654 45.4404 80.9654 45.8084C80.9654 46.6724 80.2934 47.0884 78.9814 47.0884C78.2454 47.0884 77.7174 46.9604 77.3814 46.7044C77.0454 46.4484 76.8374 46.0004 76.7734 45.3764H75.4774C75.6054 47.2644 76.7734 48.1924 78.9814 48.1924Z" fill="white"/>
<rect x="32" y="586" width="56" height="56" rx="28" fill="#cc0000" fill-opacity="${getOpacity(
        g1
    )}" stroke-opacity="0.5" stroke="white" />

<text x="55" y="620" class="small" fill="white" dx="${dx(g1)}">${g1}</text>
<rect x="104" y="586" width="56" height="56" rx="28" fill="#cc0000" fill-opacity="${getOpacity(
        g2
    )}" stroke-opacity="0.5" stroke="white"/>
<text x="127" y="620" class="small" fill="white" dx="${dx(g2)}">${g2}</text>
<rect x="176.5" y="586.5" width="55" height="55" rx="27.5" stroke="white" stroke-opacity="0.5" fill="#cc0000" fill-opacity="${getOpacity(
        g3
    )}" />
<text x="201" y="620" class="small" fill="white" dx="${dx(g3)}">${g3}</text>

<rect x="248.5" y="586.5" width="55" height="55" rx="27.5" stroke="white" stroke-opacity="0.5" fill="#cc0000" fill-opacity="${getOpacity(
        g4
    )}"/>
<text x="273" y="620" class="small" fill="white" dx="${dx(g4)}">${g4}</text>
<path d="M36.564 569.225C37.726 569.225 38.636 568.973 39.308 568.441C39.966 567.923 40.302 567.209 40.302 566.299C40.302 565.557 40.05 564.955 39.574 564.507C39.084 564.059 38.286 563.709 37.194 563.457L36.312 563.261C35.388 563.065 34.772 562.827 34.464 562.547C34.128 562.281 33.974 561.903 33.974 561.413C33.974 560.937 34.156 560.559 34.534 560.279C34.912 560.013 35.458 559.873 36.158 559.873C37.082 559.873 37.74 560.041 38.146 560.377C38.552 560.713 38.79 561.231 38.846 561.931H40.05C40.036 561.511 39.966 561.119 39.826 560.755C39.686 560.405 39.476 560.083 39.196 559.775C38.902 559.467 38.496 559.229 37.978 559.061C37.46 558.893 36.858 558.809 36.158 558.809C35.122 558.809 34.296 559.047 33.68 559.523C33.064 559.999 32.756 560.629 32.756 561.413C32.756 562.225 33.008 562.841 33.512 563.289C34.016 563.737 34.772 564.073 35.78 564.297L36.662 564.493C37.558 564.689 38.174 564.927 38.538 565.193C38.902 565.459 39.084 565.823 39.084 566.299C39.084 566.915 38.86 567.377 38.426 567.685C37.992 568.007 37.376 568.161 36.564 568.161C34.632 568.161 33.666 567.349 33.638 565.711H32.42C32.42 566.887 32.798 567.755 33.526 568.343C34.254 568.931 35.262 569.225 36.564 569.225Z" fill="white"/>
<path d="M44.6954 569.169C45.5074 569.169 46.2074 568.931 46.7674 568.455C47.3274 567.979 47.6774 567.335 47.8034 566.523H46.6554C46.5714 567.041 46.3474 567.447 45.9834 567.727C45.6194 568.021 45.1854 568.161 44.6954 568.161C44.0374 568.161 43.5054 567.923 43.1134 567.433C42.7214 566.957 42.5254 566.271 42.5254 565.389C42.5254 564.507 42.7214 563.821 43.1134 563.345C43.5054 562.869 44.0234 562.617 44.6954 562.617C45.1854 562.617 45.6054 562.757 45.9694 563.037C46.3334 563.317 46.5574 563.723 46.6414 564.227H47.8034C47.6914 563.415 47.3554 562.785 46.8094 562.309C46.2494 561.847 45.5494 561.609 44.6954 561.609C43.6734 561.609 42.8614 561.959 42.2734 562.631C41.6574 563.317 41.3494 564.241 41.3494 565.389C41.3494 566.537 41.6574 567.447 42.2734 568.133C42.8894 568.833 43.6874 569.169 44.6954 569.169Z" fill="white"/>
<path d="M54.6701 568.133C55.3141 567.461 55.6501 566.537 55.6501 565.389C55.6501 564.241 55.3141 563.331 54.6701 562.645C53.9981 561.959 53.1581 561.609 52.1501 561.609C51.1281 561.609 50.2881 561.959 49.6301 562.645C48.9721 563.331 48.6501 564.241 48.6501 565.389C48.6501 566.537 48.9721 567.461 49.6301 568.133C50.2881 568.833 51.1281 569.169 52.1501 569.169C53.1581 569.169 53.9981 568.833 54.6701 568.133ZM50.4561 567.419C50.0361 566.943 49.8261 566.257 49.8261 565.389C49.8261 564.521 50.0361 563.835 50.4561 563.345C50.8761 562.869 51.4361 562.617 52.1501 562.617C52.8501 562.617 53.4241 562.869 53.8441 563.345C54.2641 563.835 54.4741 564.521 54.4741 565.389C54.4741 566.257 54.2641 566.943 53.8441 567.419C53.4241 567.923 52.8501 568.161 52.1501 568.161C51.4361 568.161 50.8761 567.923 50.4561 567.419Z" fill="white"/>
<path d="M60.3725 561.665C59.3085 561.665 58.5245 562.127 58.0485 563.051V561.777H56.9845V569.001H58.1045V564.885C58.1045 564.213 58.3005 563.681 58.7205 563.317C59.1405 562.953 59.7145 562.757 60.4705 562.757H60.7505V561.679C60.6805 561.679 60.5545 561.665 60.3725 561.665Z" fill="white"/>
<path d="M67.6732 565.389C67.6732 564.311 67.3792 563.415 66.7912 562.687C66.2032 561.973 65.3912 561.609 64.3552 561.609C63.3472 561.609 62.5492 561.959 61.9472 562.645C61.3312 563.345 61.0232 564.255 61.0232 565.389C61.0232 566.551 61.3312 567.475 61.9612 568.147C62.5772 568.833 63.3752 569.169 64.3832 569.169C65.1952 569.169 65.8672 568.959 66.3992 568.539C66.9312 568.119 67.2952 567.531 67.4912 566.803H66.3292C66.0492 567.699 65.4052 568.147 64.4112 568.147C63.7392 568.147 63.2212 567.951 62.8432 567.559C62.4512 567.167 62.2412 566.565 62.1852 565.781H67.6732V565.389ZM64.3552 562.631C64.9572 562.631 65.4472 562.841 65.8252 563.233C66.1892 563.625 66.4132 564.143 66.4692 564.773H62.2132C62.2972 564.087 62.5352 563.555 62.9132 563.191C63.2772 562.827 63.7672 562.631 64.3552 562.631Z" fill="white"/>
<g clip-path="url(#clip1_452_200)">
<rect x="72" y="117.471" width="336" height="336.059" fill="black"/>
<path d="M73.5005 118.471L431.5 476.471" stroke="#2E2E2E" stroke-width="1.3456"/>
<path d="M407.501 118L73.0014 452.5" stroke="#2E2E2E" stroke-width="1.3456"/>
<rect x="72" y="117" width="5" height="5" fill="white"/>
<rect x="72" y="449" width="5" height="5" fill="white"/>
<rect x="403" y="117.471" width="5" height="5" fill="white"/>
<rect x="403" y="449" width="5" height="5" fill="#666666"/>
</g>
<rect x="72.6192" y="118.09" width="334.762" height="334.82" stroke="#2E2E2E" stroke-width="1.23847"/>
<path d="M79.4856 103.128H74.7216V99.4561L73.7136 99.4561L73.7136 108H74.7216V104.064H79.4856V108H80.4936V99.4561L79.4856 99.4561V103.128Z" fill="#666666"/>
<path d="M86.0187 105.312C86.0187 105.96 85.8387 106.44 85.5027 106.776C85.1547 107.112 84.7587 107.28 84.3147 107.28C83.3667 107.28 82.8987 106.824 82.8987 105.9V101.808H81.9387V105.996C81.9387 106.68 82.1307 107.208 82.5147 107.58C82.8987 107.964 83.4267 108.144 84.1227 108.144C84.9387 108.144 85.5867 107.796 86.0667 107.076V108H86.9787V101.808H86.0187V105.312Z" fill="#666666"/>
<path d="M94.9352 101.664C94.0952 101.664 93.4592 102.06 93.0272 102.828C92.6792 102.06 92.0432 101.664 91.1192 101.664C90.3272 101.664 89.7392 102.024 89.3312 102.72V101.808H88.4192V108H89.3792V104.616C89.3792 103.956 89.5232 103.44 89.8352 103.08C90.1352 102.72 90.5072 102.528 90.9632 102.528C91.8272 102.528 92.2592 102.984 92.2592 103.896V108H93.2192V104.616C93.2192 103.956 93.3632 103.44 93.6632 103.08C93.9632 102.72 94.3472 102.528 94.8032 102.528C95.6672 102.528 96.0992 102.984 96.0992 103.896V108H97.0592V103.8C97.0592 103.152 96.8672 102.636 96.4952 102.252C96.1232 101.868 95.6072 101.664 94.9352 101.664Z" fill="#666666"/>
<path d="M103.561 107.22C103.333 107.22 103.225 107.124 103.225 106.92V103.464C103.225 102.264 102.445 101.664 100.897 101.664C99.2893 101.664 98.4493 102.348 98.3773 103.716H99.3373C99.3613 103.26 99.4933 102.948 99.7333 102.768C99.9733 102.588 100.357 102.492 100.897 102.492C101.401 102.492 101.749 102.576 101.965 102.72C102.181 102.876 102.289 103.128 102.289 103.464C102.289 103.968 101.965 104.244 101.317 104.316L100.429 104.412C98.8933 104.58 98.1373 105.216 98.1373 106.332C98.1373 106.908 98.3293 107.364 98.7133 107.676C99.0973 107.988 99.6373 108.144 100.321 108.144C101.233 108.144 101.905 107.82 102.337 107.148C102.385 107.748 102.733 108.036 103.381 108.036C103.573 108.036 103.741 108.024 103.909 108V107.22H103.561ZM100.369 107.328C99.9613 107.328 99.6493 107.244 99.4453 107.064C99.2293 106.884 99.1333 106.632 99.1333 106.308C99.1333 105.984 99.2413 105.732 99.4573 105.552C99.6733 105.384 100.045 105.264 100.573 105.192L101.473 105.084C101.833 105.048 102.109 104.964 102.289 104.82V105.552C102.289 106.128 102.097 106.56 101.713 106.86C101.329 107.172 100.873 107.328 100.369 107.328Z" fill="#666666"/>
<path d="M107.611 101.664C106.783 101.664 106.135 102.024 105.667 102.732V101.808H104.755V108H105.715V104.496C105.715 103.86 105.883 103.368 106.231 103.032C106.567 102.696 106.963 102.528 107.419 102.528C108.355 102.528 108.835 102.996 108.835 103.908V108H109.795V103.812C109.795 103.14 109.603 102.612 109.219 102.228C108.835 101.856 108.295 101.664 107.611 101.664Z" fill="#666666"/>
<path d="M78.7416 468.557C79.4856 468.173 79.8696 467.549 79.8696 466.685C79.8696 466.025 79.6416 465.485 79.1856 465.077C78.7296 464.669 78.0816 464.453 77.2656 464.453H73.7136L73.7136 472.997H77.4456C78.3216 472.997 79.0056 472.793 79.4856 472.361C79.9656 471.929 80.2176 471.341 80.2176 470.597C80.2176 469.613 79.7256 468.941 78.7416 468.557ZM77.1936 465.365C77.7336 465.365 78.1536 465.485 78.4416 465.725C78.7296 465.965 78.8856 466.301 78.8856 466.721C78.8856 467.189 78.7416 467.549 78.4536 467.801C78.1656 468.065 77.7456 468.185 77.1936 468.185H74.7216V465.365H77.1936ZM74.7216 472.085V469.085H77.3856C78.5976 469.085 79.2096 469.589 79.2096 470.597C79.2096 471.077 79.0536 471.449 78.7416 471.701C78.4296 471.965 77.9856 472.085 77.3976 472.085H74.7216Z" fill="#666666"/>
<path d="M85.257 470.309C85.257 470.957 85.077 471.437 84.741 471.773C84.393 472.109 83.997 472.277 83.553 472.277C82.605 472.277 82.137 471.821 82.137 470.897V466.805H81.177V470.993C81.177 471.677 81.369 472.205 81.753 472.577C82.137 472.961 82.665 473.141 83.361 473.141C84.177 473.141 84.825 472.793 85.305 472.073V472.997H86.217V466.805H85.257V470.309Z" fill="#666666"/>
<path d="M89.8415 473.141C90.6095 473.141 91.2095 472.985 91.6415 472.661C92.0735 472.337 92.3015 471.881 92.3015 471.293C92.3015 470.789 92.1335 470.405 91.7975 470.117C91.4615 469.841 90.9215 469.625 90.1655 469.469L89.6135 469.361C89.1575 469.265 88.8455 469.157 88.6535 469.013C88.4615 468.881 88.3655 468.677 88.3655 468.401C88.3655 468.113 88.4735 467.897 88.7015 467.729C88.9175 467.573 89.2415 467.489 89.6615 467.489C90.1775 467.489 90.5615 467.585 90.8135 467.765C91.0535 467.957 91.1975 468.269 91.2215 468.713H92.1815C92.1335 467.345 91.2935 466.661 89.6615 466.661C88.9655 466.661 88.4135 466.829 88.0055 467.141C87.5975 467.453 87.4055 467.885 87.4055 468.413C87.4055 469.397 88.0415 469.997 89.3375 470.237L89.9135 470.345C90.4415 470.453 90.8135 470.573 91.0175 470.717C91.2215 470.861 91.3295 471.077 91.3295 471.353C91.3295 472.001 90.8255 472.313 89.8415 472.313C89.2895 472.313 88.8935 472.217 88.6415 472.025C88.3895 471.833 88.2335 471.497 88.1855 471.029H87.2135C87.3095 472.445 88.1855 473.141 89.8415 473.141Z" fill="#666666"/>
<path d="M94.243 465.869V464.693H93.223V465.869H94.243ZM94.219 472.997V466.805H93.259V472.997H94.219Z" fill="#666666"/>
<path d="M98.5174 466.661C97.6894 466.661 97.0414 467.021 96.5734 467.729V466.805H95.6614V472.997H96.6214V469.493C96.6214 468.857 96.7894 468.365 97.1374 468.029C97.4734 467.693 97.8694 467.525 98.3254 467.525C99.2614 467.525 99.7414 467.993 99.7414 468.905V472.997H100.701V468.809C100.701 468.137 100.509 467.609 100.125 467.225C99.7414 466.853 99.2014 466.661 98.5174 466.661Z" fill="#666666"/>
<path d="M107.542 469.901C107.542 468.977 107.29 468.209 106.786 467.585C106.282 466.973 105.586 466.661 104.698 466.661C103.834 466.661 103.15 466.961 102.634 467.549C102.106 468.149 101.842 468.929 101.842 469.901C101.842 470.897 102.106 471.689 102.646 472.265C103.174 472.853 103.858 473.141 104.722 473.141C105.418 473.141 105.994 472.961 106.45 472.601C106.906 472.241 107.218 471.737 107.386 471.113H106.39C106.15 471.881 105.598 472.265 104.746 472.265C104.17 472.265 103.726 472.097 103.402 471.761C103.066 471.425 102.886 470.909 102.838 470.237H107.542V469.901ZM104.698 467.537C105.214 467.537 105.634 467.717 105.958 468.053C106.27 468.389 106.462 468.833 106.51 469.373H102.862C102.934 468.785 103.138 468.329 103.462 468.017C103.774 467.705 104.194 467.537 104.698 467.537Z" fill="#666666"/>
<path d="M110.806 473.141C111.574 473.141 112.174 472.985 112.606 472.661C113.038 472.337 113.266 471.881 113.266 471.293C113.266 470.789 113.098 470.405 112.762 470.117C112.426 469.841 111.886 469.625 111.13 469.469L110.578 469.361C110.122 469.265 109.81 469.157 109.618 469.013C109.426 468.881 109.33 468.677 109.33 468.401C109.33 468.113 109.438 467.897 109.666 467.729C109.882 467.573 110.206 467.489 110.626 467.489C111.142 467.489 111.526 467.585 111.778 467.765C112.018 467.957 112.162 468.269 112.186 468.713H113.146C113.098 467.345 112.258 466.661 110.626 466.661C109.93 466.661 109.378 466.829 108.97 467.141C108.562 467.453 108.37 467.885 108.37 468.413C108.37 469.397 109.006 469.997 110.302 470.237L110.878 470.345C111.406 470.453 111.778 470.573 111.982 470.717C112.186 470.861 112.294 471.077 112.294 471.353C112.294 472.001 111.79 472.313 110.806 472.313C110.254 472.313 109.858 472.217 109.606 472.025C109.354 471.833 109.198 471.497 109.15 471.029H108.178C108.274 472.445 109.15 473.141 110.806 473.141Z" fill="#666666"/>
<path d="M116.525 473.141C117.293 473.141 117.893 472.985 118.325 472.661C118.757 472.337 118.985 471.881 118.985 471.293C118.985 470.789 118.817 470.405 118.481 470.117C118.145 469.841 117.605 469.625 116.849 469.469L116.297 469.361C115.841 469.265 115.529 469.157 115.337 469.013C115.145 468.881 115.049 468.677 115.049 468.401C115.049 468.113 115.157 467.897 115.385 467.729C115.601 467.573 115.925 467.489 116.345 467.489C116.861 467.489 117.245 467.585 117.497 467.765C117.737 467.957 117.881 468.269 117.905 468.713H118.865C118.817 467.345 117.977 466.661 116.345 466.661C115.649 466.661 115.097 466.829 114.689 467.141C114.281 467.453 114.089 467.885 114.089 468.413C114.089 469.397 114.725 469.997 116.021 470.237L116.597 470.345C117.125 470.453 117.497 470.573 117.701 470.717C117.905 470.861 118.013 471.077 118.013 471.353C118.013 472.001 117.509 472.313 116.525 472.313C115.973 472.313 115.577 472.217 115.325 472.025C115.073 471.833 114.917 471.497 114.869 471.029H113.897C113.993 472.445 114.869 473.141 116.525 473.141Z" fill="#666666"/>
<path d="M381.531 103.56C382.275 103.176 382.659 102.552 382.659 101.688C382.659 101.028 382.431 100.488 381.975 100.08C381.519 99.6721 380.871 99.4561 380.055 99.4561L376.503 99.4561V108H380.235C381.111 108 381.795 107.796 382.275 107.364C382.755 106.932 383.007 106.344 383.007 105.6C383.007 104.616 382.515 103.944 381.531 103.56ZM379.983 100.368C380.523 100.368 380.943 100.488 381.231 100.728C381.519 100.968 381.675 101.304 381.675 101.724C381.675 102.192 381.531 102.552 381.243 102.804C380.955 103.068 380.535 103.188 379.983 103.188H377.511V100.368H379.983ZM377.511 107.088V104.088H380.175C381.387 104.088 381.999 104.592 381.999 105.6C381.999 106.08 381.843 106.452 381.531 106.704C381.219 106.968 380.775 107.088 380.187 107.088H377.511Z" fill="#666666"/>
<path d="M386.929 101.712C386.017 101.712 385.345 102.108 384.937 102.9V101.808H384.025V108H384.985V104.472C384.985 103.896 385.153 103.44 385.513 103.128C385.873 102.816 386.365 102.648 387.013 102.648H387.253V101.724C387.193 101.724 387.085 101.712 386.929 101.712Z" fill="#666666"/>
<path d="M392.792 107.22C392.564 107.22 392.456 107.124 392.456 106.92V103.464C392.456 102.264 391.676 101.664 390.128 101.664C388.52 101.664 387.68 102.348 387.608 103.716H388.568C388.592 103.26 388.724 102.948 388.964 102.768C389.204 102.588 389.588 102.492 390.128 102.492C390.632 102.492 390.98 102.576 391.196 102.72C391.412 102.876 391.52 103.128 391.52 103.464C391.52 103.968 391.196 104.244 390.548 104.316L389.66 104.412C388.124 104.58 387.368 105.216 387.368 106.332C387.368 106.908 387.56 107.364 387.944 107.676C388.328 107.988 388.868 108.144 389.552 108.144C390.464 108.144 391.136 107.82 391.568 107.148C391.616 107.748 391.964 108.036 392.612 108.036C392.804 108.036 392.972 108.024 393.14 108V107.22H392.792ZM389.6 107.328C389.192 107.328 388.88 107.244 388.676 107.064C388.46 106.884 388.364 106.632 388.364 106.308C388.364 105.984 388.472 105.732 388.688 105.552C388.904 105.384 389.276 105.264 389.804 105.192L390.704 105.084C391.064 105.048 391.34 104.964 391.52 104.82V105.552C391.52 106.128 391.328 106.56 390.944 106.86C390.56 107.172 390.104 107.328 389.6 107.328Z" fill="#666666"/>
<path d="M396.842 101.664C396.014 101.664 395.366 102.024 394.898 102.732V101.808H393.986V108H394.945V104.496C394.945 103.86 395.114 103.368 395.462 103.032C395.798 102.696 396.194 102.528 396.65 102.528C397.586 102.528 398.066 102.996 398.066 103.908V108H399.026V103.812C399.026 103.14 398.834 102.612 398.45 102.228C398.066 101.856 397.526 101.664 396.842 101.664Z" fill="#666666"/>
<path d="M405.122 102.696C404.618 102.012 403.934 101.664 403.046 101.664C402.158 101.664 401.462 101.964 400.958 102.54C400.43 103.128 400.166 103.92 400.166 104.904C400.166 105.888 400.43 106.668 400.958 107.256C401.474 107.856 402.17 108.144 403.046 108.144C403.958 108.144 404.666 107.784 405.17 107.04V108H406.082V99.4561L405.122 99.4561V102.696ZM401.714 106.668C401.354 106.26 401.174 105.696 401.174 104.952C401.174 104.208 401.354 103.62 401.714 103.188C402.074 102.756 402.566 102.528 403.166 102.528C403.766 102.528 404.258 102.744 404.618 103.164C404.978 103.596 405.158 104.172 405.158 104.904C405.158 105.648 404.978 106.236 404.618 106.644C404.258 107.076 403.766 107.28 403.166 107.28C402.554 107.28 402.074 107.076 401.714 106.668Z" fill="#666666"/>
<path d="M373.02 473.189C373.956 473.189 374.784 472.901 375.492 472.325C376.188 471.773 376.584 470.957 376.704 469.889H375.696C375.576 470.681 375.276 471.269 374.772 471.653C374.256 472.061 373.668 472.265 373.02 472.265C372.144 472.265 371.448 471.953 370.92 471.317C370.392 470.693 370.128 469.829 370.128 468.725C370.128 467.621 370.392 466.757 370.92 466.121C371.448 465.497 372.144 465.185 373.02 465.185C374.4 465.185 375.276 465.857 375.636 467.201H376.656C376.44 466.241 376.02 465.521 375.372 465.017C374.724 464.513 373.932 464.261 373.02 464.261C371.856 464.261 370.908 464.669 370.176 465.473C369.432 466.289 369.072 467.369 369.072 468.725C369.072 470.093 369.432 471.173 370.176 471.977C370.908 472.793 371.856 473.189 373.02 473.189Z" fill="#666666"/>
<path d="M381.808 470.309C381.808 470.957 381.628 471.437 381.292 471.773C380.944 472.109 380.548 472.277 380.104 472.277C379.156 472.277 378.688 471.821 378.688 470.897V466.805H377.728V470.993C377.728 471.677 377.92 472.205 378.304 472.577C378.688 472.961 379.216 473.141 379.912 473.141C380.728 473.141 381.376 472.793 381.856 472.073V472.997H382.768V466.805H381.808V470.309Z" fill="#666666"/>
<path d="M385.168 472.997V464.453H384.208V472.997H385.168Z" fill="#666666"/>
<path d="M389.322 466.805H388.051V465.053H387.09V466.805H386.07V467.645H387.09V471.749C387.09 472.613 387.606 473.033 388.638 473.033C388.83 473.033 389.058 473.021 389.322 472.997V472.193H388.758C388.278 472.193 388.051 472.025 388.051 471.665V467.645H389.322V466.805Z" fill="#666666"/>
<path d="M394.417 470.309C394.417 470.957 394.237 471.437 393.901 471.773C393.553 472.109 393.157 472.277 392.713 472.277C391.765 472.277 391.297 471.821 391.297 470.897V466.805H390.337V470.993C390.337 471.677 390.529 472.205 390.913 472.577C391.297 472.961 391.825 473.141 392.521 473.141C393.337 473.141 393.985 472.793 394.465 472.073V472.997H395.377V466.805H394.417V470.309Z" fill="#666666"/>
<path d="M399.722 466.709C398.81 466.709 398.138 467.105 397.73 467.897V466.805H396.818V472.997H397.778V469.469C397.778 468.893 397.946 468.437 398.306 468.125C398.666 467.813 399.158 467.645 399.806 467.645H400.046V466.721C399.986 466.721 399.878 466.709 399.722 466.709Z" fill="#666666"/>
<path d="M405.979 469.901C405.979 468.977 405.727 468.209 405.223 467.585C404.719 466.973 404.023 466.661 403.135 466.661C402.271 466.661 401.587 466.961 401.071 467.549C400.543 468.149 400.279 468.929 400.279 469.901C400.279 470.897 400.543 471.689 401.083 472.265C401.611 472.853 402.295 473.141 403.159 473.141C403.855 473.141 404.431 472.961 404.887 472.601C405.343 472.241 405.655 471.737 405.823 471.113H404.827C404.587 471.881 404.035 472.265 403.183 472.265C402.607 472.265 402.163 472.097 401.839 471.761C401.503 471.425 401.323 470.909 401.275 470.237H405.979V469.901ZM403.135 467.537C403.651 467.537 404.071 467.717 404.395 468.053C404.707 468.389 404.899 468.833 404.947 469.373H401.299C401.371 468.785 401.575 468.329 401.899 468.017C402.211 467.705 402.631 467.537 403.135 467.537Z" fill="#666666"/>
    <path d="M ${getGCoord("g1", g1)} L ${getGCoord("g2", g2)} L ${getGCoord(
        "g3",
        g3
    )} L ${getGCoord("g4", g4)} L ${getGCoord("g1", g1)} Z" fill="#${bg}"/>
    <path d="M ${getGCoord("g1", g1)} L ${getGCoord("g2", g2)} L ${getGCoord(
        "g3",
        g3
    )} L ${getGCoord("g4", g4)} L ${getGCoord(
        "g1",
        g1
    )} Z" fill="#FF0303" fill-opacity="${getOpacity(r)}"/>
</g>
<defs>
<clipPath id="clip0_452_200">
<rect width="701" height="480" fill="white" transform="translate(480) rotate(90)"/>
</clipPath>
<clipPath id="clip1_452_200">
<rect x="72" y="117.471" width="336" height="336.059" fill="white"/>
</clipPath>
</defs>
</svg>
    `;

    return completeChart;
    return svgElement;
}
